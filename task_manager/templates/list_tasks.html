{% extends 'base.html' %}

{% block content %}
  <h1 class="my-4">
    
  Задачи

  </h1>
  
<a class="btn btn-primary mb-3" href="/tasks/create/" role="button">Создать задачу</a>

<div class="card mb-3">
<div class="card-body bg-light">
<form class="form-inline center" method="get">
  <div class="mb-3"><label class="form-label" for="id_status">Статус</label><select name="status" class="form-select ml-2 mr-3" id="id_status">
<option value="" selected>---------</option>

<option value="1">статус2</option>

</select></div>
  <div class="mb-3"><label class="form-label" for="id_executor">Исполнитель</label><select name="executor" class="form-select mr-3 ml-2" id="id_executor">
<option value="" selected>---------</option>
<option value="1">Maksim Rubanets</option>


</select></div>
  <div class="mb-3"><label class="form-label" for="id_label">Метка</label><select name="label" class="form-select mr-3 ml-2" id="id_label">
<option value="" selected>---------</option>
<option value="1">метка2</option>

</select></div>
  <div class="mb-3"><div class="form-check"><input type="checkbox" name="self_tasks" class="form-check-input mr-3" id="id_self_tasks"><label class="form-check-label" for="id_self_tasks">Только свои задачи</label></div></div>
    <input class="btn btn-primary" type="submit" value="Показать">
</form>
</div>
</div>


<table class="table table-striped">
<thead>
<tr>
  <th>ID</th>
  <th>Имя</th>
  <th>Статус</th>
  <th>Автор</th>
  <th>Исполнитель</th>
  <th>Дата создания</th>
  <th></th>
</tr>
</thead>
<tbody>

  {% for task in tasks %}
  <tr>
    <td>{{ task.id }}</td>
    <td><a href="/tasks/{{ task.id }}/">{{ status.name }}</a></td>
    <td>{{ task.status }}</td>
    <td>{{ task.author }}</td>
    <td>{{ task.executor }}</td>
    <td>{{ task.created_at|date:"d.m.Y H:i" }}</td>
    <td class="d-flex flex-column">
      <a href="{% url 'update_task' task.id %}" class="d-inline-block">Изменить</a>
      <a href="{% url 'delete_task' task.id %}" class="d-inline-block">Удалить</a>
    </td>
  </tr>
  {% endfor %}

</tbody>
</table>

{% endblock %}